function L(){import.meta.url,import("_").catch(()=>1);async function*l(){}}(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const n of t.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&r(n)}).observe(document,{childList:!0,subtree:!0});function c(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function r(e){if(e.ep)return;e.ep=!0;const t=c(e);fetch(e.href,t)}})();const u=document.getElementById("key"),y=document.getElementById("image"),p=document.getElementById("color"),h=document.getElementById("submit"),g=document.getElementById("result"),E=new URLSearchParams(window.location.search);let i=E.get("key");const b=!!i;u.value=i||"";u.disabled=b;u.addEventListener("input",()=>i=u.value);const k=async()=>{var n;const l=[[]];for(let s=1;s<=5;s++){const a=[""];for(let m=1;m<=7;m++){const d=`${s}-${m}`,f=document.getElementById(`${d}`).value;a.push(f)}l.push(a)}const o=new FormData,c=(n=y.files)==null?void 0:n[0];c&&o.append("file",c);let r;c&&(r=(await fetch(`https://kcb.7hmakers.com/api/upload_image?key=${i}`,{method:"POST",body:o}).then(a=>a.json())).filename);const e=p.value,t=await fetch("https://kcb.7hmakers.com/api/schedule_submit",{method:"POST",body:JSON.stringify({key:i,color:e,course_name:l,photo_filename:r}),headers:{"Content-Type":"application/json"}}).then(s=>s.json());g.innerText=(t==null?void 0:t.message)||"失败力（"};h.addEventListener("click",k);export{L as __vite_legacy_guard};
